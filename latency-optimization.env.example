# 🚀 LATENCY OPTIMIZATION CONFIGURATION
# Variables de entorno para optimizar la latencia y manejo de interrupciones

# ===========================================
# CONFIGURACIÓN DE CONCURRENCIA Y COLA
# ===========================================
MAX_CONCURRENT_CALLS=5
MAX_CALLS_PER_USER=3
WORKER_POOL_SIZE=10
QUEUE_CHECK_INTERVAL=1000
RETRY_ATTEMPTS=3
RETRY_DELAY=2000

# ===========================================
# CONFIGURACIÓN DE LATENCIA
# ===========================================
# Tiempo máximo de respuesta antes de alertar (en ms)
MAX_RESPONSE_LATENCY=1000
# Intervalo de monitoreo de latencia (en ms)
LATENCY_MONITOR_INTERVAL=5000
# Habilitar métricas detalladas de latencia
ENABLE_LATENCY_METRICS=true
# Threshold para alertas de latencia alta (en ms)
LATENCY_ALERT_THRESHOLD=800

# ===========================================
# CONFIGURACIÓN DE INTERRUPCIONES
# ===========================================
# Sensibilidad de interrupciones (low, medium, high)
INTERRUPTION_SENSITIVITY=low
# Duración mínima para detectar interrupción (en segundos)
INTERRUPTION_MIN_DURATION=0.3
# Duración máxima de interrupción (en segundos)
INTERRUPTION_MAX_DURATION=2.5
# Período de cooldown después de interrupción (en segundos)
INTERRUPTION_COOLDOWN=0.5
# Umbral de interrupción (0.0 - 1.0)
INTERRUPTION_THRESHOLD=0.6
# Duración de silencio para detección rápida (en segundos)
SILENCE_DURATION=0.2

# ===========================================
# CONFIGURACIÓN DE BUFFER DE AUDIO
# ===========================================
# Habilitar buffer inteligente
ENABLE_SMART_BUFFER=true
# Tamaño máximo del buffer (número de chunks)
SMART_BUFFER_MAX_SIZE=3
# Threshold para flush automático (en segundos)
SMART_BUFFER_FLUSH_THRESHOLD=0.1
# Tamaño de chunk de audio optimizado
AUDIO_CHUNK_SIZE=1024
# Latencia de streaming TTS (en segundos)
TTS_STREAMING_LATENCY=0.2

# ===========================================
# CONFIGURACIÓN DE WEBSOCKET
# ===========================================
# Timeout de conexión WebSocket (en ms)
WEBSOCKET_CONNECTION_TIMEOUT=30000
# Timeout de keep-alive (en ms)
WEBSOCKET_KEEPALIVE_TIMEOUT=30000
# Máximo de requests por socket
WEBSOCKET_MAX_REQUESTS_PER_SOCKET=100
# Habilitar compresión WebSocket
WEBSOCKET_ENABLE_COMPRESSION=true

# ===========================================
# CONFIGURACIÓN DE RENDIMIENTO
# ===========================================
# Habilitar procesamiento paralelo
ENABLE_PARALLEL_PROCESSING=true
# Timeout de respuesta rápida (en segundos)
FAST_RESPONSE_TIMEOUT=0.4
# Habilitar respuesta instantánea
ENABLE_INSTANT_RESPONSE=true
# Threshold de delay de respuesta (en segundos)
RESPONSE_DELAY_THRESHOLD=0.08
# Habilitar procesamiento en tiempo real
ENABLE_REALTIME_PROCESSING=true

# ===========================================
# CONFIGURACIÓN DE TTS (Text-to-Speech)
# ===========================================
# Calidad de audio (low, medium, high, ultra)
TTS_AUDIO_QUALITY=high
# Estabilidad de voz (0.0 - 1.0)
TTS_VOICE_STABILITY=0.7
# Boost de similitud (0.0 - 1.0)
TTS_SIMILARITY_BOOST=0.8
# Estilo de voz (0.0 - 1.0)
TTS_VOICE_STYLE=0.5
# Habilitar boost de speaker
TTS_USE_SPEAKER_BOOST=true

# ===========================================
# CONFIGURACIÓN DE MONITOREO
# ===========================================
# Habilitar logging detallado de latencia
ENABLE_LATENCY_LOGGING=true
# Intervalo de reporte de métricas (en ms)
METRICS_REPORT_INTERVAL=30000
# Habilitar alertas de latencia alta
ENABLE_LATENCY_ALERTS=true
# Guardar métricas en base de datos
SAVE_LATENCY_METRICS=true

# ===========================================
# CONFIGURACIÓN DE RED
# ===========================================
# Timeout de conexión HTTP (en ms)
HTTP_CONNECTION_TIMEOUT=10000
# Timeout de lectura HTTP (en ms)
HTTP_READ_TIMEOUT=15000
# Máximo de conexiones simultáneas
MAX_CONCURRENT_CONNECTIONS=50
# Habilitar keep-alive HTTP
HTTP_KEEPALIVE=true
