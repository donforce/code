const crypto = require("crypto"); const ELEVENLABS_WEBHOOK_SECRET = "wsec_aa13b4b7bba3044aa6c9c231cfe02e13cac62a418c56e075c4bc614cebe4602a"; const payload = {"type": "post_call_transcription", "event_timestamp": 1750643374, "data": {"agent_id": "KlREXjrextmL0aoK8R6F", "conversation_id": "conv_test_123", "status": "done", "analysis": {"call_successful": "success", "transcript_summary": "Test conversation summary", "data_collection_results": {"Interesado": {"value": true, "data_collection_id": "Interesado"}, "Resumen": {"value": "Cliente interesado", "data_collection_id": "Resumen"}}}}}; const payloadString = JSON.stringify(payload); const signature = crypto.createHmac("sha256", ELEVENLABS_WEBHOOK_SECRET).update(payloadString, "utf8").digest("hex"); console.log("Generated Signature:", signature); console.log("curl command:"); console.log(`curl -X POST https://code-production-3f72.up.railway.app/webhook/elevenlabs -H "Content-Type: application/json" -H "ElevenLabs-Signature: ${signature}" -d '${payloadString}'`);
